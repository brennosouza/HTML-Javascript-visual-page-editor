<!DOCTYPE html>
<html>
    <head>
        <title>Test</title>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<script src="script.js" type="text/javascript" ></script>
		<link rel="stylesheet" href="style.css">

    </head>


    <body id="body"> 
		
		<div class="tabcontainer" style="float:left; width: 10%; height: 30vh; overflow:auto;">
		<!-- Tab links -->
		<div class="tab">
			<button class="tablinks" onclick="openCity(event, 'Common')" id="defaultOpen">Common</button>
			<button class="tablinks" onclick="openCity(event, 'Bootstrap')">Bootstrap</button>
			<button class="tablinks" onclick="openCity(event, 'Tokyo')">Tokyo</button>
		  </div>

		<!-- Tab content -->
		<div id="Common" class="tabcontent">
			<button onclick="newButton()">New button</button>
			<button onclick="newHeader()">New header</button>
			<button onclick="newButton()">New button</button>
		</div>
		
		<div id="Bootstrap" class="tabcontent">
			<button onclick="">Add Bootstrap to page</button>
		</div>
		
		<div id="Tokyo" class="tabcontent">
			<h3>Tokyo</h3>
			<p>Tokyo is the capital of Japan.</p>
		</div>
	</div>


		<!-- <div id="buttoncontainer" style="float:left; width: 10%; height: 30vh; overflow:auto;" >
			<button onclick="newButton()">New button</button>
			<button onclick="newHeader()">New header</button>
			<button onclick="newButton()">New button</button>
		</div> -->


		<iframe class="responsive-iframe" id="iframecontent" meta =" " style ="float:left; width:60vw; height: 90vh;"></iframe>



		<div id="htmltree" style="float:left; margin-left: 10px; width: 24vw; height: 20vh ;overflow: auto;">

			<ul id="treelist" >
				<li id="htmlli" ><span class="caret" referralid="body">HTML</span>
				  <ul class="nested">
					<li id="headli"><span class="caret">Head</span>
					<li id="bodyli" referralid="body" name="body"><span class="caret body" referralid="body" name="body">Body</span> <ul class="nested" id="bodyul" referralid="body"></ul>
					<li>Coffee</li>
					<li><span class="caret">Tea</span>
					  <ul class="nested">
						<li>Black Tea</li>
						<li>White Tea</li>
						<li><span class="caret">Green Tea</span>
						  <ul class="nested">
							<li>Sencha</li>
							<li>Gyokuro</li>
							<li>Matcha</li>
							<li>Pi Lo Chun</li>
						  </ul>
						</li>
					  </ul>
					</li>  
				  </ul>
				</li>
			</ul>

			

		</div>

		<div style="float:left">
		<button style="float:left;" onclick="deleteSelectedNode()">Delete node</button>
			
			<input type="checkbox" id="designmodecheckbox" name="designmodecheckbox" onclick="designModeToggle()" checked="on">
			<label for="designmodecheckbox">Design mode</label><br>

			<input type="checkbox" id="darkmodecheckbox" name="darkmodecheckbox" onclick="darkModeToggle()" checked="on">
			<label for="darkmodecheckbox">Dark mode</label><br>
		
		
			<div id="propertiesdiv" style="min-width: 24vw; padding: 5px; border:1px solid black; float: left; margin-left:10px; margin-top: 10px;">

				<b>Properties window</b>

				<table id="propertiestable" style="width:100%">
					<!-- <tr>
					  <th>Firstname</th>
					  <th>Lastname</th>
					  <th>Age</th>
					</tr> -->

					<h4>Global attributes</h4>

					<tr>
					  <td>Name</td>
					  <td id="table-objectname"></td>
					</tr>
					<tr>
					  <td>ID</td>
					  <td id="table-objectid"></td>
					</tr>
					<tr>
						<td>Class</td>
						<td id="table-objectclass"></td>
					  </tr>
					
				</table>

				<table id="propertiestable" style="width:100%">

				  <h4>Style attributes</h4>

				  <tr>
					<td>tste</td>
					<td id="table-objectname"></td>
				  </tr>
				  <tr>
					<td>ID</td>
					<td id="table-objectid"></td>
				  </tr>
				  <tr>
					  <td>Class</td>
					  <td id="table-objectclass"></td>
					</tr>

				</table>

		
		</div>

		
		</div>

		


		<script>

			//Tree list
			var toggler = document.getElementsByClassName("caret");
			var i;
			
			for (i = 0; i < toggler.length; i++) {
				toggler[i].addEventListener("click", function() {
				this.parentElement.querySelector(".nested").classList.toggle("active");
				this.classList.toggle("caret-down");
				

				var test = this.getAttribute("referralid");

				console.log(this);
				console.log(this.getAttribute("referralid"));
				console.log(this.classList[1]);
				console.log(this.referralid);
				console.log(this.name);
				console.log(this.innerHTML);
				console.log(this.style);


				// console.log(this.classList[1]);

				//pegar por numero de aparicao?

				//Passando a node selecionado para a variável global
				// selectedtreenode = this.referralid;
				selectedtreenode = document.getElementById(this.classList[1]);
				console.log(selectedtreenode);
				});
			}

			// Para checar se o dark mode já está ativado
			darkModeToggle()

			//Adicionar meta tag para o html do iframe para responsividade
			addmetatagiframe()

			//Ativando design mode por padrão
			{
				let iframe = getIframeDocument();
				iframe.designMode = "on";
			}

			//Ativando o tab common por default
			document.getElementById("defaultOpen").click();

			// if (selectedtreenode != null){
			// 	selectedtreenode.style.color = 'red';
			// }

			document.getElementById("table-objectname").textContent = selectedtreenode.textContent;

			</script>

    
    </body>


</html>